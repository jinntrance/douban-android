# for debugging, don't inline methods
#-dontoptimize
#-optimizationpasses 5

-dontobfuscate
-dontoptimize
-renamesourcefileattribute SourceFile
-keepattributes SourceFile,LineNumberTable
-verbose
-flattenpackagehierarchy

###
# Android config
###
-dontusemixedcaseclassnames
-dontskipnonpubliclibraryclasses
-dontpreverify

-optimizations !code/simplification/arithmetic,!code/simplification/cast,!field/*,!class/merging/*,!code/allocation/variable
#-optimizationpasses 5
#-allowaccessmodification

-keepattributes *Annotation*
-keep public class com.google.vending.licensing.ILicensingService
-keep public class com.android.vending.licensing.ILicensingService

-keepclasseswithmembernames class * {
 native <methods>;
}

# We want to keep methods in Activity that could be used in the XML attribute onClick
-keepclassmembers class * extends android.app.Activity {
 public void *(android.view.View);
}

# For enumeration classes, see http://proguard.sourceforge.net/manual/examples.html#enumerations
-keepclassmembers enum * {
 public static **[] values();
 public static ** valueOf(java.lang.String);
}

-keep class * implements android.os.Parcelable {
 public static final android.os.Parcelable$Creator *;
}

-dontnote android.annotation.**
-dontnote com.android.vending.licensing.**
-dontnote com.google.vending.licensing.**
-dontwarn android.support.**
-dontnote android.support.**

# keep setters in Views so that animations can still work.
# see http://proguard.sourceforge.net/manual/examples.html#beans
-keepclassmembers public class * extends android.view.View {
 void set*(***);
 *** get*();
}

-keepclassmembers class **.R$* {
 public static <fields>;
}

###
# Scala proguard config
###
-dontnote scala.ScalaObject
-dontnote org.xml.sax.EntityResolver
-dontnote scala.concurrent.forkjoin.**
-dontwarn scala.beans.ScalaBeanInfo
-dontwarn scala.concurrent.**
-dontwarn scala.reflect.**
-dontwarn scala.sys.process.package$

-dontwarn **$$anonfun$*
-dontwarn scala.collection.immutable.RedBlack$Empty
-dontwarn scala.tools.**,plugintemplate.**

-keep public class scala.reflect.ScalaSignature
# This is gone in 2.11
-keep public interface scala.ScalaObject

-keepclassmembers class * {
 ** MODULE$;
}

-keep class scala.collection.SeqLike {
 public java.lang.String toString();
}

-keepclassmembernames class scala.concurrent.forkjoin.ForkJoinPool {
 long eventCount;
 int workerCounts;
 int runControl;
 scala.concurrent.forkjoin.ForkJoinPool$WaitQueueNode syncStack;
 scala.concurrent.forkjoin.ForkJoinPool$WaitQueueNode spareStack;
}

-keepclassmembernames class scala.concurrent.forkjoin.ForkJoinWorkerThread {
 int base;
 int sp;
 int runState;
}

-keepclassmembernames class scala.concurrent.forkjoin.ForkJoinTask {
 int status;
}

-keepclassmembernames class scala.concurrent.forkjoin.LinkedTransferQueue {
 scala.concurrent.forkjoin.LinkedTransferQueue$PaddedAtomicReference head;
 scala.concurrent.forkjoin.LinkedTransferQueue$PaddedAtomicReference tail;
 scala.concurrent.forkjoin.LinkedTransferQueue$PaddedAtomicReference cleanMe;
}
# view res/layout/fav_books.xml #generated:4
-keep class android.support.v4.view.ViewPager { <init>(...); }

# view AndroidManifest.xml #generated:55
-keep class com.douban.base.DisconnectedActivity { <init>(...); }

# view AndroidManifest.xml #generated:24
-keep class com.douban.base.DoubanContext { <init>(...); }

# view AndroidManifest.xml #generated:43
-keep class com.douban.book.AboutActivity { <init>(...); }

# view AndroidManifest.xml #generated:48
-keep class com.douban.book.AddNoteActivity { <init>(...); }

# view AndroidManifest.xml #generated:45
-keep class com.douban.book.BookActivity { <init>(...); }

# view AndroidManifest.xml #generated:46
-keep class com.douban.book.CollectionActivity { <init>(...); }

# view res/layout/collection_container.xml #generated:6
-keep class com.douban.book.CollectionFragment { <init>(...); }

# view AndroidManifest.xml #generated:40
-keep class com.douban.book.FavoriteBooksActivity { <init>(...); }

# view AndroidManifest.xml #generated:53
-keep class com.douban.book.FavoriteBooksFilterActivity { <init>(...); }

# view AndroidManifest.xml #generated:52
-keep class com.douban.book.FavoriteBooksFilterResultActivity { <init>(...); }

# view AndroidManifest.xml #generated:38
-keep class com.douban.book.LoginActivity { <init>(...); }

# view res/layout/menu_frame.xml #generated:7
-keep class com.douban.book.MenuFragment { <init>(...); }

# view AndroidManifest.xml #generated:42
-keep class com.douban.book.MyNoteActivity { <init>(...); }

# view AndroidManifest.xml #generated:51
-keep class com.douban.book.MyNoteViewActivity { <init>(...); }

# view AndroidManifest.xml #generated:47
-keep class com.douban.book.NotesActivity { <init>(...); }

# view AndroidManifest.xml #generated:56
-keep class com.douban.book.NotesDraftActivity { <init>(...); }

# view AndroidManifest.xml #generated:49
-keep class com.douban.book.PublicNoteViewActivity { <init>(...); }

# view AndroidManifest.xml #generated:50
-keep class com.douban.book.ReviewActivity { <init>(...); }

# view AndroidManifest.xml #generated:44
-keep class com.douban.book.ScannerActivity { <init>(...); }

# view AndroidManifest.xml #generated:27
-keep class com.douban.book.SearchActivity { <init>(...); }

# view AndroidManifest.xml #generated:54
-keep class com.douban.book.SearchResultActivity { <init>(...); }

# view res/layout/book_view_container.xml #generated:5
# view sw720dp-v13/res/layout-sw720dp-v13/book_list.xml #generated:14
-keep class com.douban.book.SearchResultDetail { <init>(...); }

# view res/layout/book_list.xml #generated:6
# view sw720dp-v13/res/layout-sw720dp-v13/book_list.xml #generated:8
-keep class com.douban.book.SearchResultList { <init>(...); }

# view AndroidManifest.xml #generated:41
-keep class com.douban.book.SettingsActivity { <init>(...); }

# view AndroidManifest.xml #generated:57
-keep class com.google.zxing.client.android.CaptureActivity { <init>(...); }

# view AndroidManifest.xml #generated:71
-keep class com.google.zxing.client.android.encode.EncodeActivity { <init>(...); }

# view res/layout/image_popup.xml #generated:17
-keep class uk.co.senab.photoview.PhotoView { <init>(...); }

# onClick res/layout/settings.xml #generated:52
-keepclassmembers class * { *** about(...); }

# onClick res/layout/note_to_add.xml #generated:17
# onClick res/menu/add_note.xml #generated:4
-keepclassmembers class * { *** addNote(...); }

# onClick res/layout/note_add.xml #generated:34
-keepclassmembers class * { *** addQuote(...); }

# onClick res/layout/collection.xml #generated:35
-keepclassmembers class * { *** addTag(...); }

# onClick res/layout/header_edit.xml #generated:8
# onClick res/layout/header_edit_collection.xml #generated:8
# onClick res/layout/header_edit_note.xml #generated:8
# onClick res/layout/header_note.xml #generated:8
-keepclassmembers class * { *** back(...); }

# onClick res/menu/edit.xml #generated:4
-keepclassmembers class * { *** cancel(...); }

# onClick res/layout/collection.xml #generated:14
# onClick res/layout/collection.xml #generated:20
# onClick res/layout/collection.xml #generated:9
-keepclassmembers class * { *** check(...); }

# onClick res/layout/header_edit_collection.xml #generated:32
# onClick res/layout/header_edit_note.xml #generated:33
-keepclassmembers class * { *** checkPrivacy(...); }

# onClick res/layout/fav_books_filter.xml #generated:31
# onClick res/layout/fav_books_filter.xml #generated:38
# onClick res/layout/fav_books_filter.xml #generated:45
-keepclassmembers class * { *** checkSate(...); }

# onClick res/layout/note_add.xml #generated:49
-keepclassmembers class * { *** choosePhotos(...); }

# onClick res/layout/book_view.xml #generated:158
# onClick res/layout/book_view.xml #generated:164
# onClick res/layout/book_view.xml #generated:170
-keepclassmembers class * { *** collect(...); }

# onClick res/layout/book_view.xml #generated:175
-keepclassmembers class * { *** deCollect(...); }

# onClick res/layout/settings.xml #generated:21
-keepclassmembers class * { *** delCache(...); }

# onClick res/menu/edit_note.xml #generated:5
-keepclassmembers class * { *** deleteNote(...); }

# onClick res/layout/header_edit_note.xml #generated:17
-keepclassmembers class * { *** editChapter(...); }

# onClick res/menu/edit_note.xml #generated:4
-keepclassmembers class * { *** editNote(...); }

# onClick res/layout/notes_list.xml #generated:119
-keepclassmembers class * { *** hidePopup(...); }

# onClick res/layout/menu.xml #generated:22
-keepclassmembers class * { *** login(...); }

# onClick res/layout/header.xml #generated:8
-keepclassmembers class * { *** menu(...); }

# onClick res/layout/book_view.xml #generated:25
-keepclassmembers class * { *** popup(...); }

# onClick res/menu/login.xml #generated:4
-keepclassmembers class * { *** refresh(...); }

# onClick res/layout/notes_draft_item.xml #generated:78
-keepclassmembers class * { *** remove(...); }

# onClick res/layout/search.xml #generated:50
# onClick res/layout/search.xml #generated:59
-keepclassmembers class * { *** scan(...); }

# onClick res/layout/notes_list.xml #generated:19
# onClick res/layout/notes_list.xml #generated:29
# onClick res/layout/notes_list.xml #generated:39
# onClick res/layout/search.xml #generated:33
-keepclassmembers class * { *** search(...); }

# onClick res/layout/notes_draft_item.xml #generated:6
-keepclassmembers class * { *** send(...); }

# onClick res/layout/fav_books_filter.xml #generated:101
# onClick res/layout/fav_books_filter.xml #generated:88
-keepclassmembers class * { *** showDatePickerDialog(...); }

# onClick res/layout/notes_list.xml #generated:48
-keepclassmembers class * { *** showPopup(...); }

# onClick res/layout/menu.xml #generated:69
# onClick res/layout/menu.xml #generated:77
# onClick res/layout/menu.xml #generated:85
# onClick res/layout/menu.xml #generated:94
-keepclassmembers class * { *** sideMenu(...); }

# onClick res/layout/header.xml #generated:28
# onClick res/layout/header_edit.xml #generated:32
# onClick res/layout/header_edit_collection.xml #generated:41
# onClick res/layout/header_edit_note.xml #generated:40
# onClick res/menu/edit.xml #generated:6
-keepclassmembers class * { *** submit(...); }

# onClick res/menu/filter.xml #generated:4
-keepclassmembers class * { *** submitFilter(...); }

# onClick res/layout/note_add.xml #generated:41
-keepclassmembers class * { *** takePhotos(...); }

# onClick res/layout/book_view.xml #generated:273
-keepclassmembers class * { *** toggleAuthor(...); }

# onClick res/layout/book_view.xml #generated:307
-keepclassmembers class * { *** toggleCatalog(...); }

# onClick res/layout/book_view.xml #generated:236
-keepclassmembers class * { *** toggleContent(...); }

# onClick res/layout/fav_books_result.xml #generated:6
-keepclassmembers class * { *** toggleHeader(...); }

# onClick res/layout/keyboard.xml #generated:2
-keepclassmembers class * { *** toggleKeyboard(...); }

# onClick res/layout/settings.xml #generated:63
-keepclassmembers class * { *** toggleLogin(...); }

# onClick res/layout/settings.xml #generated:43
-keepclassmembers class * { *** toggleSyncIn2G(...); }

# onClick res/layout/header_note.xml #generated:20
# onClick res/layout/mynote_view.xml #generated:12
-keepclassmembers class * { *** viewBook(...); }

# onClick res/layout/settings.xml #generated:10
-keepclassmembers class * { *** viewDraft(...); }

# onClick res/layout/book_view.xml #generated:345
-keepclassmembers class * { *** viewNotes(...); }

# onClick res/layout/book_view.xml #generated:367
-keepclassmembers class * { *** viewReviews(...); }

# This is a configuration file for ProGuard.
# http://proguard.sourceforge.net/index.html#manual/usage.html

# Optimizations: If you don't want to optimize, use the
# proguard-android.txt configuration file instead of this one, which
# turns off the optimization flags. Adding optimization introduces
# certain risks, since for example not all optimizations performed by
# ProGuard works on all versions of Dalvik. The following flags turn
# off various optimizations known to have issues, but the list may not
# be complete or up to date. (The "arithmetic" optimization can be
# used if you are only targeting Android 2.0 or later.) Make sure you
# test thoroughly if you go this route.
-optimizations !code/simplification/arithmetic,!code/simplification/cast,!field/*,!class/merging/*
-optimizationpasses 5
-allowaccessmodification
-dontpreverify

# The remainder of this file is identical to the non-optimized version
# of the Proguard configuration file (except that the other file has
# flags to turn off optimization).

-dontusemixedcaseclassnames
-dontskipnonpubliclibraryclasses
-verbose

-keepattributes *Annotation*
-keep public class com.google.vending.licensing.ILicensingService
-keep public class com.android.vending.licensing.ILicensingService

# For native methods, see http://proguard.sourceforge.net/manual/examples.html#native
-keepclasseswithmembernames class * {
 native <methods>;
}

# keep setters in Views so that animations can still work.
# see http://proguard.sourceforge.net/manual/examples.html#beans
-keepclassmembers public class * extends android.view.View {
 void set*(***);
 *** get*();
}

# We want to keep methods in Activity that could be used in the XML attribute onClick
-keepclassmembers class * extends android.app.Activity {
 public void *(android.view.View);
}

# For enumeration classes, see http://proguard.sourceforge.net/manual/examples.html#enumerations
-keepclassmembers enum * {
 public static **[] values();
 public static ** valueOf(java.lang.String);
}

-keep class * implements android.os.Parcelable {
 public static final android.os.Parcelable$Creator *;
}

-keepclassmembers class **.R$* {
 public static <fields>;
}

# The support library contains references to newer platform versions.
# Don't warn about those in case this app is linking against an older
# platform version. We know about them, and they are safe.
-dontwarn android.support.**
#setting for idea
-dontwarn scala.**
-dontnote scala.**
#-dontwarn com.douban.common.**
-dontwarn scala.collection.**
-dontwarn org.scaloid.**
-dontwarn com.google.**
-keep class com.douban.common.**
-keep class com.douban.book.**
-keep class com.douban.base.** { *; }
-keep class com.douban.models.**
-keep class uk.co.senab.photoview.**
#-keep class android.support.v4.**
-keep class com.google.gson.internal.LinkedTreeMap.**
#common setting
-verbose
-dontobfuscate
#-dontoptimize
-printseeds target/keep.log
-printusage target/usage.log
-printmapping target/obf.log
-keepparameternames
-dontskipnonpubliclibraryclasses
-dontskipnonpubliclibraryclassmembers
-keepattributes Exceptions,InnerClasses,Signature,Deprecated,SourceFile,LineNumberTable,*Annotation*,EnclosingMethod
-keepclassmembers class * { ** MODULE$; }
#-keepdirectories
-keep class scala.runtime.ObjectRef
-keep class scala.runtime.VolatileObjectRef
-keep class scala.reflect.Manifest
-keep class scala.reflect.ClassTag
-keep class scala.reflect.ClassManifestDeprecatedApis*
-keep class scala.collection.mutable.ArrayBuffer
-keep class scala.math.Ordering
-keep class org.scaloid.common.SActivity
-keep class org.scaloid.common.SContext
-keep class org.scaloid.common.Registerable
-keep class org.scaloid.common.LoggerTag
-keep class android.support.v4.app.Fragment
-keep public class scala.Option
-keep public class scala.PartialFunction
-keep public class scala.Function0
-keep public class scala.Function1
-keep public class scala.Function2
-keep public class scala.Product
-keep public class scala.Tuple2
-keep public class scala.collection.Seq
-keep public class scala.collection.GenSeq
-keep public class scala.collection.immutable.List
-keep public class scala.collection.immutable.Map
-keep public class scala.collection.SeqLike {public protected *;}
-keep public class * extends android.app.Activity
-keep public class * extends android.app.Fragment
-keep public class * extends android.app.Application
-keep public class * extends android.app.Service
-keep public class * extends android.app.backup.BackupAgentHelper
-keep public class * extends android.appwidget.AppWidgetProvider
-keep public class * extends android.content.BroadcastReceiver
-keep public class * extends android.content.ContentProvider
-keep public class * extends android.preference.Preference
-keep public class * extends android.view.View
-keepclasseswithmembernames class * {native <methods>;}
-keepclasseswithmembers class * {public <init>(android.content.Context, android.util.AttributeSet);}
-keepclasseswithmembers class * {public <init>(android.content.Context, android.util.AttributeSet, int);}
-keepclassmembers class * extends android.app.Activity { public void *(android.view.View);}
-keepclassmembers class * extends com.douban.base.DoubanActivity
-keepclassmembers class * extends com.douban.base.DoubanFragment
-keepclassmembers class * extends com.douban.base.DoubanListFragment
-keepclassmembers enum * {public static **[] values();public static ** valueOf(java.lang.String);}
-keep class * implements android.os.Parcelable { public static final android.os.Parcelable$Creator *;}